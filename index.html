<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Special Rose for You</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
    <style>
        body {
            background: #0a0a0a;
            color: #fff;
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
            min-height: 100vh;
            cursor: crosshair;
            transition: background 2s ease;
        }

        .bg-gradient-custom {
            background: radial-gradient(circle at center, #2d0a0a 0%, #000000 100%);
        }

        .bg-garden-bloom {
            background: radial-gradient(circle at center, #4c0519 0%, #000000 100%);
        }

        .cursive {
            font-family: 'Great Vibes', cursive;
        }

        /* Sparkle/Particle Effect */
        .sparkle {
            position: fixed;
            width: 4px;
            height: 4px;
            background: white;
            border-radius: 50%;
            pointer-events: none;
            z-index: 100;
            animation: sparkle-fade 1s linear forwards;
        }

        @keyframes sparkle-fade {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(0); opacity: 0; }
        }

        /* Falling Petals Animation */
        .petal {
            position: fixed;
            top: -10%;
            user-select: none;
            pointer-events: none;
            z-index: 10;
        }

        @keyframes fall {
            0% { transform: translateY(0) rotate(0deg) translateX(0); opacity: 1; }
            50% { transform: translateY(50vh) rotate(180deg) translateX(20px); }
            100% { transform: translateY(100vh) rotate(360deg) translateX(-20px); opacity: 0; }
        }

        /* Floating Love Notes */
        .love-note {
            position: fixed;
            color: #f472b6;
            font-family: 'Great Vibes', cursive;
            font-size: 1.5rem;
            pointer-events: none;
            z-index: 60;
            animation: float-up 3s ease-out forwards;
            white-space: nowrap;
        }

        @keyframes float-up {
            0% { transform: translateY(0) scale(0.5); opacity: 0; }
            20% { opacity: 1; }
            100% { transform: translateY(-150px) scale(1.2); opacity: 0; }
        }

        /* Rose Container & SVG Animation */
        .rose-container {
            position: relative;
            width: 280px;
            height: 350px;
            margin: 0 auto;
            transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .rose-svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(0 0 15px rgba(229, 62, 62, 0.4));
        }

        .petal-path {
            fill: #ff2d55;
            stroke: #9d174d;
            stroke-width: 0.5;
            transition: fill 0.8s ease, transform 0.5s ease;
            transform-origin: center;
        }

        #flower-head {
            animation: sway 4s ease-in-out infinite;
            transform-origin: bottom center;
        }

        @keyframes sway {
            0%, 100% { transform: rotate(-2deg); }
            50% { transform: rotate(2deg); }
        }

        /* Heart Button */
        .heart-btn {
            background: linear-gradient(45deg, #ff2d55, #ff6b6b);
            box-shadow: 0 0 20px rgba(255, 45, 85, 0.5);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 10px rgba(255, 45, 85, 0.5); }
            50% { transform: scale(1.1); box-shadow: 0 0 30px rgba(255, 45, 85, 0.8); }
            100% { transform: scale(1); box-shadow: 0 0 10px rgba(255, 45, 85, 0.5); }
        }

        .fade-in {
            opacity: 0;
            transform: translateY(30px);
            transition: all 1.2s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .fade-in.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Polaroid Frame */
        .polaroid {
            background: white;
            padding: 10px 10px 30px 10px;
            transform: rotate(-3deg);
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            max-width: 200px;
            margin: 0 auto 2rem;
            border-radius: 2px;
        }
        
        .photo-placeholder {
            background: #eee;
            width: 180px;
            height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #888;
            font-size: 0.8rem;
            text-align: center;
            border: 1px solid #ddd;
        }

        /* Love Meter */
        .meter-container {
            width: 200px;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            margin: 20px auto;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.3);
        }
        #love-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(90deg, #ff2d55, #fb7185, #ff9fb2);
            transition: width 0.5s cubic-bezier(0.23, 1, 0.32, 1);
            box-shadow: 0 0 15px rgba(255, 45, 85, 0.8);
        }

        /* Memory Lane App Styles */
        #memory-app {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            z-index: 200;
            overflow-y: auto;
            animation: fadeIn 1.5s forwards;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .memory-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 20px;
            transition: transform 0.3s ease;
        }

        .memory-card:hover {
            transform: translateY(-10px);
            border-color: #f472b6;
        }

        /* Hidden Surprise Elements */
        .hidden-bloom {
            position: fixed;
            pointer-events: none;
            z-index: 5;
            filter: blur(2px);
            opacity: 0;
            transition: opacity 2s ease;
        }
    </style>
</head>
<body class="bg-gradient-custom flex flex-col items-center justify-center p-4">

    <!-- Sparkle Layer -->
    <div id="sparkle-container"></div>

    <!-- Initial Landing View -->
    <div id="landing" class="text-center z-20">
        <div class="mb-4 inline-block">
            <svg width="60" height="60" viewBox="0 0 24 24" fill="none" stroke="#ff2d55" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" fill="#ff2d55"></path>
            </svg>
        </div>
        <h1 class="cursive text-7xl md:text-9xl text-pink-500 mb-6 drop-shadow-[0_0_10px_rgba(236,72,153,0.5)]">Infinite Bloom</h1>
        <p class="text-pink-100/60 text-lg mb-12 tracking-widest uppercase italic">A magical rose that responds to your touch</p>
        
        <button id="bloom-btn" class="heart-btn text-white font-bold py-5 px-12 rounded-full transition transform active:scale-95 text-xl tracking-wider">
            ENTER THE GARDEN
        </button>
    </div>

    <!-- Main Content (Hidden Initially) -->
    <div id="main-content" class="hidden w-full max-w-2xl text-center">
        
        <div class="polaroid fade-in" id="photo-frame">
            <div class="photo-placeholder">
                <p>Insert Our<br>Favorite Memory<br>Here üì∏</p>
            </div>
            <p class="cursive text-black text-xl mt-2">My Favorite View.</p>
        </div>

        <!-- Animated Rose -->
        <div class="rose-container mb-4 cursor-pointer" id="interactive-rose">
            <svg class="rose-svg" viewBox="0 0 100 120">
                <!-- Glowing Stem -->
                <path d="M50,110 Q52,80 50,50" stroke="#1b4332" stroke-width="2" fill="none" id="stem" />
                <path d="M50,110 Q52,80 50,50" stroke="#40916c" stroke-width="1" fill="none" stroke-dasharray="100" stroke-dashoffset="100">
                    <animate attributeName="stroke-dashoffset" from="100" to="0" dur="2s" fill="freeze" />
                </path>
                
                <g id="flower-head" style="opacity: 0">
                    <animate attributeName="opacity" from="0" to="1" dur="2s" begin="1s" fill="freeze" />
                    <!-- Petals with layered depth -->
                    <path class="petal-path interactive-petal" d="M50,50 C20,40 20,10 50,30 C80,10 80,40 50,50" opacity="0.6"/>
                    <path class="petal-path interactive-petal" d="M50,50 C30,35 30,15 50,35 C70,15 70,35 50,50" opacity="0.8"/>
                    <path class="petal-path interactive-petal" d="M50,48 C40,40 40,25 50,38 C60,25 60,40 50,48" />
                    <!-- Center -->
                    <circle cx="50" cy="40" r="3" fill="#700d11" />
                </g>
            </svg>
        </div>

        <div class="meter-container fade-in" id="meter-box">
            <div id="love-fill"></div>
        </div>
        <p class="text-xs text-pink-400/70 uppercase tracking-[0.2em] mb-8 fade-in h-4" id="meter-hint">Tap the rose to share your love</p>

        <div id="message-box" class="fade-in bg-black/60 backdrop-blur-xl p-10 rounded-3xl shadow-[0_0_50px_rgba(255,45,85,0.2)] border border-pink-500/20 mb-10">
            <h2 class="cursive text-5xl text-pink-400 mb-6">A Love That Blooms</h2>
            <p class="text-pink-50/80 leading-relaxed text-lg font-light tracking-wide" id="typewriter-text">
                <!-- Text will be typed here -->
            </p>
        </div>

        <div id="final-surprise" class="hidden cursive text-5xl text-pink-300 animate-bounce mb-10 drop-shadow-[0_0_15px_rgba(244,114,182,0.8)]">
            You are my forever rose. üåπ
        </div>

        <button id="replay-btn" class="text-white/20 hover:text-white/50 transition-colors uppercase text-[10px] tracking-[0.3em] font-bold">
            RESET THE MAGIC
        </button>
    </div>

    <!-- Memory Lane App (The "Another App" Surprise) -->
    <div id="memory-app">
        <div class="max-w-4xl mx-auto py-20 px-6">
            <div class="flex justify-between items-center mb-16">
                <h2 class="cursive text-6xl text-pink-500">Our Memory Lane</h2>
                <button id="close-app" class="text-white/50 hover:text-white transition-colors border border-white/20 px-4 py-2 rounded-full text-xs">EXIT APP</button>
            </div>
            
            <!-- <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div class="memory-card">
                    <div class="photo-placeholder w-full h-48 mb-4">The First Time We Met</div>
                    <h3 class="text-xl font-bold mb-2">The Beginning</h3>
                    <p class="text-white/60 text-sm">Every story has a start, but ours felt like coming home.</p>
                </div>
                <div class="memory-card">
                    <div class="photo-placeholder w-full h-48 mb-4">Our Longest Conversation</div>
                    <h3 class="text-xl font-bold mb-2">The Deep Dive</h3>
                    <p class="text-white/60 text-sm">Hours felt like minutes when I was talking to you.</p>
                </div>
                <div class="memory-card">
                    <div class="photo-placeholder w-full h-48 mb-4">That One Rainy Day</div>
                    <h3 class="text-xl font-bold mb-2">Rainy Memories</h3>
                    <p class="text-white/60 text-sm">Even the grayest days were bright by your side.</p>
                </div>
                <div class="memory-card">
                    <div class="photo-placeholder w-full h-48 mb-4">Our Special Song</div>
                    <h3 class="text-xl font-bold mb-2">Melody of Us</h3>
                    <p class="text-white/60 text-sm">A tune that will always play in my heart.</p>
                </div>
            </div> -->

            <div class="mt-20 text-center">
                <p class="cursive text-4xl text-pink-200">And thousands more to come...</p>
                <div class="mt-10 flex justify-center gap-4">
                    <div class="w-12 h-12 bg-pink-500/20 rounded-full flex items-center justify-center animate-pulse">‚ù§Ô∏è</div>
                    <div class="w-12 h-12 bg-pink-500/20 rounded-full flex items-center justify-center animate-pulse delay-75">üåπ</div>
                    <div class="w-12 h-12 bg-pink-500/20 rounded-full flex items-center justify-center animate-pulse delay-150">‚ú®</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Audio (Hidden) -->
    <audio id="bg-music" loop>
        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3" type="audio/mpeg">
    </audio>

    <script>
        const bloomBtn = document.getElementById('bloom-btn');
        const landing = document.getElementById('landing');
        const mainContent = document.getElementById('main-content');
        const messageBox = document.getElementById('message-box');
        const photoFrame = document.getElementById('photo-frame');
        const typewriterElement = document.getElementById('typewriter-text');
        const replayBtn = document.getElementById('replay-btn');
        const sparkleContainer = document.getElementById('sparkle-container');
        const roseContainer = document.getElementById('interactive-rose');
        const loveFill = document.getElementById('love-fill');
        const finalSurprise = document.getElementById('final-surprise');
        const meterHint = document.getElementById('meter-hint');
        const memoryApp = document.getElementById('memory-app');
        const closeAppBtn = document.getElementById('close-app');
        
        let loveLevel = 0;
        const compliments = ["You're Beautiful", "My World", "Stay Forever", "Love You", "You're Special", "Pure Magic", "Sweetest Soul"];
        const message = "Just like a real rose, our love needs care, patience, and warmth to flourish. Every moment we spend together adds a new petal to our story. You aren't just a part of my life; you're the fragrance that makes it worth living. Happy Rose Day to the one who makes my heart bloom eternally.";

        // Sparkle effect on mouse move
        window.addEventListener('mousemove', (e) => {
            spawnSparkle(e.clientX, e.clientY);
        });

        function spawnSparkle(x, y, color = null) {
            const sparkle = document.createElement('div');
            sparkle.className = 'sparkle';
            sparkle.style.left = x + 'px';
            sparkle.style.top = y + 'px';
            sparkle.style.background = color || `hsl(${Math.random() * 20 + 340}, 100%, 70%)`;
            sparkleContainer.appendChild(sparkle);
            setTimeout(() => sparkle.remove(), 1000);
        }

        function createPetal() {
            const petals = ['üå∏', 'üåπ', '‚ú®', '‚ù§Ô∏è'];
            const petal = document.createElement('div');
            petal.innerHTML = petals[Math.floor(Math.random() * petals.length)];
            petal.className = 'petal';
            petal.style.left = Math.random() * 100 + 'vw';
            petal.style.fontSize = (Math.random() * 15 + 10) + 'px';
            petal.style.animation = `fall ${Math.random() * 4 + 4}s linear forwards`;
            document.body.appendChild(petal);
            setTimeout(() => petal.remove(), 8000);
        }

        function spawnLoveNote(x, y) {
            const note = document.createElement('div');
            note.className = 'love-note';
            note.style.left = (x - 50) + 'px';
            note.style.top = y + 'px';
            note.innerText = compliments[Math.floor(Math.random() * compliments.length)];
            document.body.appendChild(note);
            setTimeout(() => note.remove(), 3000);
        }

        // Interactive Rose Logic
        roseContainer.addEventListener('mousedown', (e) => {
            if (mainContent.classList.contains('hidden')) return;
            
            // Allow clicking even after 100% to open the app again
            if (loveLevel >= 100) {
                openApp();
                return;
            }

            loveLevel = Math.min(loveLevel + 10, 100);
            loveFill.style.width = loveLevel + '%';
            
            // Visual feedback on rose
            roseContainer.style.transform = 'scale(1.15) rotate(8deg)';
            setTimeout(() => {
                roseContainer.style.transform = 'scale(1) rotate(0deg)';
            }, 150);

            // Spawn floating love note
            spawnLoveNote(e.clientX, e.clientY);

            // Change petal colors as it "blooms"
            const petals = document.querySelectorAll('.interactive-petal');
            petals.forEach((p, idx) => {
                p.style.fill = `hsl(345, ${70 + (loveLevel/3)}%, ${35 + (loveLevel/5)}%)`;
                p.style.transform = `scale(${1 + (loveLevel/400)})`;
            });

            // Burst of sparkles on click
            for(let i=0; i<10; i++) {
                setTimeout(() => {
                    spawnSparkle(
                        e.clientX + (Math.random()-0.5)*150, 
                        e.clientY + (Math.random()-0.5)*150,
                        '#fb7185'
                    );
                }, i * 30);
            }

            if (loveLevel === 100) {
                setTimeout(() => {
                    triggerFinale();
                    setTimeout(openApp, 1500);
                }, 500);
            } else if (loveLevel > 50) {
                meterHint.innerText = "Almost full of love...";
            }
        });

        function triggerFinale() {
            meterHint.innerText = "Full of Love!";
            finalSurprise.classList.remove('hidden');
            document.body.classList.remove('bg-gradient-custom');
            document.body.classList.add('bg-garden-bloom');
            
            // Create "garden" background effect
            for(let i=0; i<30; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.innerHTML = '‚ù§Ô∏è';
                    heart.className = 'hidden-bloom';
                    heart.style.left = Math.random() * 100 + 'vw';
                    heart.style.top = Math.random() * 100 + 'vh';
                    heart.style.fontSize = (Math.random() * 20 + 20) + 'px';
                    document.body.appendChild(heart);
                    setTimeout(() => heart.style.opacity = '0.3', 100);
                }, i * 100);
            }
            
            // Intensive petal storm
            const storm = setInterval(createPetal, 150);
            setTimeout(() => clearInterval(storm), 5000);
        }

        function openApp() {
            memoryApp.style.display = 'block';
            document.body.style.overflow = 'hidden';
            // Play success sparkle effect
            for(let i=0; i<20; i++) {
                spawnSparkle(Math.random() * window.innerWidth, Math.random() * window.innerHeight);
            }
        }

        closeAppBtn.addEventListener('click', () => {
            memoryApp.style.display = 'none';
            document.body.style.overflow = 'auto';
            meterHint.innerText = "Tap the rose to return to Memory Lane";
        });

        function typeWriter(text, i, fnCallback) {
            if (i < text.length) {
                typewriterElement.innerHTML = text.substring(0, i+1) + '<span class="text-pink-500 animate-pulse">|</span>';
                setTimeout(() => typeWriter(text, i + 1, fnCallback), 40);
            } else if (typeof fnCallback == 'function') {
                typewriterElement.innerHTML = text;
                fnCallback();
            }
        }

        function startSurprise() {
            setInterval(createPetal, 400);
            landing.style.transition = 'opacity 1s ease';
            landing.style.opacity = '0';
            
            setTimeout(() => {
                landing.classList.add('hidden');
                mainContent.classList.remove('hidden');
                
                setTimeout(() => photoFrame.classList.add('visible'), 300);
                setTimeout(() => document.getElementById('meter-box').classList.add('visible'), 600);
                setTimeout(() => meterHint.classList.add('visible'), 800);

                setTimeout(() => {
                    messageBox.classList.add('visible');
                    typeWriter(message, 0);
                }, 1500);
            }, 1000);

            const music = document.getElementById('bg-music');
            music.volume = 0.3;
            music.play().catch(() => {});
        }

        bloomBtn.addEventListener('click', startSurprise);

        replayBtn.addEventListener('click', () => {
            loveLevel = 0;
            loveFill.style.width = '0%';
            finalSurprise.classList.add('hidden');
            meterHint.innerText = "Tap the rose to share your love";
            document.body.classList.remove('bg-garden-bloom');
            document.body.classList.add('bg-gradient-custom');
            document.querySelectorAll('.hidden-bloom').forEach(h => h.remove());
            typewriterElement.innerHTML = "";
            typeWriter(message, 0);
            
            const petals = document.querySelectorAll('.interactive-petal');
            petals.forEach(p => {
                p.style.fill = '#ff2d55';
                p.style.transform = 'scale(1)';
            });
        });

        // Ambient background activity
        setInterval(() => {
            const x = Math.random() * window.innerWidth;
            const y = Math.random() * window.innerHeight;
            spawnSparkle(x, y);
        }, 1200);
    </script>
</body>
</html>
